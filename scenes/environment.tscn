[gd_scene load_steps=13 format=3 uid="uid://cpbamg25vdbgp"]

[ext_resource type="Shader" path="res://shader/Panorama.gdshader" id="1_8q83n"]
[ext_resource type="Material" uid="uid://x6an3eg3lq30" path="res://sun/sun_mat.tres" id="2_yx62p"]
[ext_resource type="Script" path="res://sun/Sun.gd" id="3_m08ha"]
[ext_resource type="Material" uid="uid://ej5ljh4es8xq" path="res://moon/moon_mat.tres" id="4_jqxst"]

[sub_resource type="FastNoiseLite" id="FastNoiseLite_h5fu5"]
noise_type = 3
frequency = 0.0188
metadata/_preview_in_3d_space_ = true

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_krrsk"]
width = 1024
height = 1024
seamless = true
normalize = false
noise = SubResource("FastNoiseLite_h5fu5")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_x6w0g"]
shader = ExtResource("1_8q83n")
shader_parameter/noise = SubResource("NoiseTexture2D_krrsk")

[sub_resource type="Sky" id="Sky_d3yhf"]
sky_material = SubResource("ShaderMaterial_x6w0g")

[sub_resource type="Environment" id="Environment_xwcho"]
background_mode = 2
sky = SubResource("Sky_d3yhf")

[sub_resource type="SphereMesh" id="SphereMesh_0f712"]
radius = 100.0
height = 200.0

[sub_resource type="CylinderMesh" id="CylinderMesh_d2kft"]
top_radius = 100.0
bottom_radius = 100.0
height = 0.1

[sub_resource type="WorldBoundaryShape3D" id="WorldBoundaryShape3D_fp6xh"]

[node name="Environment" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_xwcho")

[node name="SunLight" type="DirectionalLight3D" parent="."]
light_color = Color(1, 0.752941, 0.643137, 1)
shadow_enabled = true
sky_mode = 1

[node name="Sun" type="MeshInstance3D" parent="."]
cast_shadow = 0
mesh = SubResource("SphereMesh_0f712")
surface_material_override/0 = ExtResource("2_yx62p")
script = ExtResource("3_m08ha")
sun_speed = 0.05

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.998871, 0.0475074, 0, -0.0475074, 0.998871, -260.73, 107.038, -5.89809)
editor_only = true

[node name="Moon" type="StaticBody3D" parent="."]
collision_mask = 7

[node name="MeshInstance3D" type="MeshInstance3D" parent="Moon"]
mesh = SubResource("CylinderMesh_d2kft")
skeleton = NodePath("../..")
surface_material_override/0 = ExtResource("4_jqxst")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Moon"]
shape = SubResource("WorldBoundaryShape3D_fp6xh")
