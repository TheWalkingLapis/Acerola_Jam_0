[gd_scene load_steps=17 format=3 uid="uid://bbo04tiy1wfgw"]

[ext_resource type="Script" path="res://CharacterBody3D.gd" id="1_32h26"]
[ext_resource type="Shader" path="res://Panorama.gdshader" id="2_5vqrk"]
[ext_resource type="Material" uid="uid://x6an3eg3lq30" path="res://sun/sun_mat.tres" id="3_4gcck"]
[ext_resource type="Script" path="res://sun/Sun.gd" id="3_43oif"]
[ext_resource type="Material" uid="uid://ej5ljh4es8xq" path="res://moon/moon_mat.tres" id="5_cibh6"]
[ext_resource type="PackedScene" uid="uid://bwo53y2aeckss" path="res://moon_base.tscn" id="6_nc25u"]

[sub_resource type="CapsuleMesh" id="CapsuleMesh_8gb15"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_lvcbw"]

[sub_resource type="FastNoiseLite" id="FastNoiseLite_h5fu5"]
noise_type = 3
frequency = 0.0188
metadata/_preview_in_3d_space_ = true

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_krrsk"]
width = 1024
height = 1024
seamless = true
normalize = false
noise = SubResource("FastNoiseLite_h5fu5")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_x6w0g"]
shader = ExtResource("2_5vqrk")
shader_parameter/noise = SubResource("NoiseTexture2D_krrsk")

[sub_resource type="Sky" id="Sky_d3yhf"]
sky_material = SubResource("ShaderMaterial_x6w0g")

[sub_resource type="Environment" id="Environment_xwcho"]
background_mode = 2
sky = SubResource("Sky_d3yhf")

[sub_resource type="SphereMesh" id="SphereMesh_0f712"]
radius = 100.0
height = 200.0

[sub_resource type="CylinderMesh" id="CylinderMesh_d2kft"]
top_radius = 100.0
bottom_radius = 100.0
height = 0.1

[sub_resource type="WorldBoundaryShape3D" id="WorldBoundaryShape3D_fp6xh"]

[node name="Node3D" type="Node3D"]

[node name="CharacterBody3D" type="CharacterBody3D" parent="."]
transform = Transform3D(-1.75, 0, -2.64243e-07, 0, 1.75, 0, 2.64243e-07, 0, -1.75, 0.837946, 8.79561, -2.28334)
collision_layer = 2
script = ExtResource("1_32h26")
movement_speed = 750.0

[node name="MeshInstance3D" type="MeshInstance3D" parent="CharacterBody3D"]
mesh = SubResource("CapsuleMesh_8gb15")

[node name="CollisionShape3D" type="CollisionShape3D" parent="CharacterBody3D"]
shape = SubResource("CapsuleShape3D_lvcbw")

[node name="Camera3D" type="Camera3D" parent="CharacterBody3D"]
transform = Transform3D(0.666667, 0, 0, 0, 0.666667, 0, 0, 0, 0.666667, 0, 0.681245, 0)

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_xwcho")

[node name="SunLight" type="DirectionalLight3D" parent="."]
light_color = Color(1, 0.752941, 0.643137, 1)
shadow_enabled = true
sky_mode = 1

[node name="Sun" type="MeshInstance3D" parent="."]
cast_shadow = 0
mesh = SubResource("SphereMesh_0f712")
surface_material_override/0 = ExtResource("3_4gcck")
script = ExtResource("3_43oif")
sun_speed = 0.05

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.998871, 0.0475074, 0, -0.0475074, 0.998871, -260.73, 107.038, -5.89809)
editor_only = true

[node name="Moon" type="StaticBody3D" parent="."]
collision_mask = 7

[node name="MeshInstance3D" type="MeshInstance3D" parent="Moon"]
mesh = SubResource("CylinderMesh_d2kft")
skeleton = NodePath("../..")
surface_material_override/0 = ExtResource("5_cibh6")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Moon"]
shape = SubResource("WorldBoundaryShape3D_fp6xh")

[node name="MoonBase" parent="." instance=ExtResource("6_nc25u")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 7.02527, 0)
